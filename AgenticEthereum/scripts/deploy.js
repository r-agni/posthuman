/** @format */

import { ethers } from 'ethers';

// Define RPC provider (Infura, Alchemy, or your own node)
const RPC_URL = 'https://holesky.infura.io/v3/616d4339096a4bc48c583b04ae076937'; // Replace with your RPC URL

// Define your wallet private key
const PRIVATE_KEY =
  '0xf0545f27615c90bfd6107143a2d49f22b708cff95fdd24e93af50bfd4c18fedd'; // Replace with your wallet's private key

async function main() {
  // Connect to the Ethereum network using the provider
  const provider = new ethers.JsonRpcProvider(RPC_URL);

  // Create a signer (wallet) from the private key and connect to the provider
  const wallet = new ethers.Wallet(PRIVATE_KEY, provider);
   const abi = [
	{
		"inputs": [
			{
				"internalType": "address",
				"name": "_avsDirectory",
				"type": "address"
			},
			{
				"internalType": "address",
				"name": "_stakeRegistry",
				"type": "address"
			},
			{
				"internalType": "address",
				"name": "_rewardsCoordinator",
				"type": "address"
			},
			{
				"internalType": "address",
				"name": "_delegationManager",
				"type": "address"
			}
		],
		"stateMutability": "nonpayable",
		"type": "constructor"
	},
	{
		"anonymous": false,
		"inputs": [
			{
				"indexed": false,
				"internalType": "uint8",
				"name": "version",
				"type": "uint8"
			}
		],
		"name": "Initialized",
		"type": "event"
	},
	{
		"anonymous": false,
		"inputs": [
			{
				"indexed": true,
				"internalType": "uint32",
				"name": "taskIndex",
				"type": "uint32"
			},
			{
				"components": [
					{
						"internalType": "string",
						"name": "name",
						"type": "string"
					},
					{
						"internalType": "uint32",
						"name": "taskCreatedBlock",
						"type": "uint32"
					}
				],
				"indexed": false,
				"internalType": "struct IAgentAVS.Task",
				"name": "task",
				"type": "tuple"
			}
		],
		"name": "NewTaskCreated",
		"type": "event"
	},
	{
		"anonymous": false,
		"inputs": [
			{
				"indexed": true,
				"internalType": "address",
				"name": "previousOwner",
				"type": "address"
			},
			{
				"indexed": true,
				"internalType": "address",
				"name": "newOwner",
				"type": "address"
			}
		],
		"name": "OwnershipTransferred",
		"type": "event"
	},
	{
		"anonymous": false,
		"inputs": [
			{
				"indexed": false,
				"internalType": "address",
				"name": "prevRewardsInitiator",
				"type": "address"
			},
			{
				"indexed": false,
				"internalType": "address",
				"name": "newRewardsInitiator",
				"type": "address"
			}
		],
		"name": "RewardsInitiatorUpdated",
		"type": "event"
	},
	{
		"anonymous": false,
		"inputs": [
			{
				"indexed": true,
				"internalType": "uint32",
				"name": "taskIndex",
				"type": "uint32"
			},
			{
				"components": [
					{
						"internalType": "string",
						"name": "name",
						"type": "string"
					},
					{
						"internalType": "uint32",
						"name": "taskCreatedBlock",
						"type": "uint32"
					}
				],
				"indexed": false,
				"internalType": "struct IAgentAVS.Task",
				"name": "task",
				"type": "tuple"
			},
			{
				"indexed": false,
				"internalType": "address",
				"name": "operator",
				"type": "address"
			}
		],
		"name": "TaskResponded",
		"type": "event"
	},
	{
		"inputs": [
			{
				"internalType": "uint32",
				"name": "",
				"type": "uint32"
			}
		],
		"name": "allTaskHashes",
		"outputs": [
			{
				"internalType": "bytes32",
				"name": "",
				"type": "bytes32"
			}
		],
		"stateMutability": "view",
		"type": "function"
	},
	{
		"inputs": [
			{
				"internalType": "address",
				"name": "",
				"type": "address"
			},
			{
				"internalType": "uint32",
				"name": "",
				"type": "uint32"
			}
		],
		"name": "allTaskResponses",
		"outputs": [
			{
				"internalType": "bytes",
				"name": "",
				"type": "bytes"
			}
		],
		"stateMutability": "view",
		"type": "function"
	},
	{
		"inputs": [],
		"name": "avsDirectory",
		"outputs": [
			{
				"internalType": "address",
				"name": "",
				"type": "address"
			}
		],
		"stateMutability": "view",
		"type": "function"
	},
	{
		"inputs": [
			{
				"components": [
					{
						"components": [
							{
								"internalType": "contract IStrategy",
								"name": "strategy",
								"type": "address"
							},
							{
								"internalType": "uint96",
								"name": "multiplier",
								"type": "uint96"
							}
						],
						"internalType": "struct IRewardsCoordinator.StrategyAndMultiplier[]",
						"name": "strategiesAndMultipliers",
						"type": "tuple[]"
					},
					{
						"internalType": "contract IERC20",
						"name": "token",
						"type": "address"
					},
					{
						"internalType": "uint256",
						"name": "amount",
						"type": "uint256"
					},
					{
						"internalType": "uint32",
						"name": "startTimestamp",
						"type": "uint32"
					},
					{
						"internalType": "uint32",
						"name": "duration",
						"type": "uint32"
					}
				],
				"internalType": "struct IRewardsCoordinator.RewardsSubmission[]",
				"name": "rewardsSubmissions",
				"type": "tuple[]"
			}
		],
		"name": "createAVSRewardsSubmission",
		"outputs": [],
		"stateMutability": "nonpayable",
		"type": "function"
	},
	{
		"inputs": [
			{
				"internalType": "string",
				"name": "name",
				"type": "string"
			}
		],
		"name": "createNewTask",
		"outputs": [
			{
				"components": [
					{
						"internalType": "string",
						"name": "name",
						"type": "string"
					},
					{
						"internalType": "uint32",
						"name": "taskCreatedBlock",
						"type": "uint32"
					}
				],
				"internalType": "struct IAgentAVS.Task",
				"name": "",
				"type": "tuple"
			}
		],
		"stateMutability": "nonpayable",
		"type": "function"
	},
	{
		"inputs": [
			{
				"internalType": "address",
				"name": "operator",
				"type": "address"
			}
		],
		"name": "deregisterOperatorFromAVS",
		"outputs": [],
		"stateMutability": "nonpayable",
		"type": "function"
	},
	{
		"inputs": [
			{
				"internalType": "address",
				"name": "_operator",
				"type": "address"
			}
		],
		"name": "getOperatorRestakedStrategies",
		"outputs": [
			{
				"internalType": "address[]",
				"name": "",
				"type": "address[]"
			}
		],
		"stateMutability": "view",
		"type": "function"
	},
	{
		"inputs": [],
		"name": "getRestakeableStrategies",
		"outputs": [
			{
				"internalType": "address[]",
				"name": "",
				"type": "address[]"
			}
		],
		"stateMutability": "view",
		"type": "function"
	},
	{
		"inputs": [
			{
				"internalType": "address",
				"name": "initialOwner",
				"type": "address"
			},
			{
				"internalType": "address",
				"name": "_rewardsInitiator",
				"type": "address"
			}
		],
		"name": "initialize",
		"outputs": [],
		"stateMutability": "nonpayable",
		"type": "function"
	},
	{
		"inputs": [],
		"name": "latestTaskNum",
		"outputs": [
			{
				"internalType": "uint32",
				"name": "",
				"type": "uint32"
			}
		],
		"stateMutability": "view",
		"type": "function"
	},
	{
		"inputs": [],
		"name": "owner",
		"outputs": [
			{
				"internalType": "address",
				"name": "",
				"type": "address"
			}
		],
		"stateMutability": "view",
		"type": "function"
	},
	{
		"inputs": [
			{
				"internalType": "address",
				"name": "operator",
				"type": "address"
			},
			{
				"components": [
					{
						"internalType": "bytes",
						"name": "signature",
						"type": "bytes"
					},
					{
						"internalType": "bytes32",
						"name": "salt",
						"type": "bytes32"
					},
					{
						"internalType": "uint256",
						"name": "expiry",
						"type": "uint256"
					}
				],
				"internalType": "struct ISignatureUtils.SignatureWithSaltAndExpiry",
				"name": "operatorSignature",
				"type": "tuple"
			}
		],
		"name": "registerOperatorToAVS",
		"outputs": [],
		"stateMutability": "nonpayable",
		"type": "function"
	},
	{
		"inputs": [],
		"name": "renounceOwnership",
		"outputs": [],
		"stateMutability": "nonpayable",
		"type": "function"
	},
	{
		"inputs": [
			{
				"components": [
					{
						"internalType": "string",
						"name": "name",
						"type": "string"
					},
					{
						"internalType": "uint32",
						"name": "taskCreatedBlock",
						"type": "uint32"
					}
				],
				"internalType": "struct IAgentAVS.Task",
				"name": "task",
				"type": "tuple"
			},
			{
				"internalType": "uint32",
				"name": "referenceTaskIndex",
				"type": "uint32"
			},
			{
				"internalType": "bytes",
				"name": "signature",
				"type": "bytes"
			}
		],
		"name": "respondToTask",
		"outputs": [],
		"stateMutability": "nonpayable",
		"type": "function"
	},
	{
		"inputs": [],
		"name": "rewardsInitiator",
		"outputs": [
			{
				"internalType": "address",
				"name": "",
				"type": "address"
			}
		],
		"stateMutability": "view",
		"type": "function"
	},
	{
		"inputs": [
			{
				"internalType": "address",
				"name": "newRewardsInitiator",
				"type": "address"
			}
		],
		"name": "setRewardsInitiator",
		"outputs": [],
		"stateMutability": "nonpayable",
		"type": "function"
	},
	{
		"inputs": [],
		"name": "stakeRegistry",
		"outputs": [
			{
				"internalType": "address",
				"name": "",
				"type": "address"
			}
		],
		"stateMutability": "view",
		"type": "function"
	},
	{
		"inputs": [
			{
				"internalType": "address",
				"name": "newOwner",
				"type": "address"
			}
		],
		"name": "transferOwnership",
		"outputs": [],
		"stateMutability": "nonpayable",
		"type": "function"
	},
	{
		"inputs": [
			{
				"internalType": "string",
				"name": "_metadataURI",
				"type": "string"
			}
		],
		"name": "updateAVSMetadataURI",
		"outputs": [],
		"stateMutability": "nonpayable",
		"type": "function"
	}
       ]
  const bytecode = "610100604052348015610010575f80fd5b50604051613d93380380613d938339818101604052810190610032919061023d565b838383838373ffffffffffffffffffffffffffffffffffffffff1660a08173ffffffffffffffffffffffffffffffffffffffff16815250508273ffffffffffffffffffffffffffffffffffffffff1660808173ffffffffffffffffffffffffffffffffffffffff16815250508173ffffffffffffffffffffffffffffffffffffffff1660c08173ffffffffffffffffffffffffffffffffffffffff16815250508073ffffffffffffffffffffffffffffffffffffffff1660e08173ffffffffffffffffffffffffffffffffffffffff168152505061011461012160201b60201c565b5050505050505050610373565b5f60019054906101000a900460ff1615610170576040517f08c379a000000000000000000000000000000000000000000000000000000000815260040161016790610321565b60405180910390fd5b60ff80165f8054906101000a900460ff1660ff1610156101dd5760ff5f806101000a81548160ff021916908360ff1602179055507f7f26b83ff96e1f2b6a682f133852f6798a09c465da95921460cefb384740249860ff6040516101d4919061035a565b60405180910390a15b565b5f80fd5b5f73ffffffffffffffffffffffffffffffffffffffff82169050919050565b5f61020c826101e3565b9050919050565b61021c81610202565b8114610226575f80fd5b50565b5f8151905061023781610213565b92915050565b5f805f8060808587031215610255576102546101df565b5b5f61026287828801610229565b945050602061027387828801610229565b935050604061028487828801610229565b925050606061029587828801610229565b91505092959194509250565b5f82825260208201905092915050565b7f496e697469616c697a61626c653a20636f6e747261637420697320696e6974695f8201527f616c697a696e6700000000000000000000000000000000000000000000000000602082015250565b5f61030b6027836102a1565b9150610316826102b1565b604082019050919050565b5f6020820190508181035f830152610338816102ff565b9050919050565b5f60ff82169050919050565b6103548161033f565b82525050565b5f60208201905061036d5f83018461034b565b92915050565b60805160a05160c05160e0516139a76103ec5f395f610de701525f81816117560152818161182701526118e701525f818161082901528181611273015281816112ff015261138801525f818161052501528181610805015281816109bb01528181610a5701528181610c7a015261141401526139a75ff3fe608060405234801561000f575f80fd5b506004361061011f575f3560e01c80638b00ce7c116100ab578063c20bab7f1161006f578063c20bab7f146102dd578063e481af9d1461030d578063f2fde38b1461032b578063fc299dee14610347578063fce36c7d146103655761011f565b80638b00ce7c1461024d5780638da5cb5b1461026b5780639926ee7d14610289578063a364f4da146102a5578063a98fb355146102c15761011f565b8063485cc955116100f2578063485cc955146101bb57806368304835146101d75780636b3aa72e146101f5578063715018a61461021357806385edf8741461021d5761011f565b80632d89f6fc1461012357806333cfb7b7146101535780633415a49c146101835780633bc28c8c1461019f575b5f80fd5b61013d600480360381019061013891906119e1565b610381565b60405161014a9190611a24565b60405180910390f35b61016d60048036038101906101689190611a97565b610396565b60405161017a9190611b79565b60405180910390f35b61019d60048036038101906101989190611cf7565b6103a8565b005b6101b960048036038101906101b49190611a97565b6106b3565b005b6101d560048036038101906101d09190611d7f565b6106c7565b005b6101df610803565b6040516101ec9190611dcc565b60405180910390f35b6101fd610827565b60405161020a9190611dcc565b60405180910390f35b61021b61084b565b005b61023760048036038101906102329190611e83565b61085e565b6040516102449190611f73565b60405180910390f35b61025561097c565b6040516102629190611fa2565b60405180910390f35b610273610991565b6040516102809190611dcc565b60405180910390f35b6102a3600480360381019061029e919061209d565b6109b9565b005b6102bf60048036038101906102ba9190611a97565b610a55565b005b6102db60048036038101906102d69190611e83565b610aef565b005b6102f760048036038101906102f291906120f7565b610b03565b6040516103049190612187565b60405180910390f35b610315610ba9565b6040516103229190611b79565b60405180910390f35b61034560048036038101906103409190611a97565b610bb8565b005b61034f610c3a565b60405161035c9190611dcc565b60405180910390f35b61037f600480360381019061037a9190612204565b610c5f565b005b6098602052805f5260405f205f915090505481565b60606103a182610c75565b9050919050565b60985f8363ffffffff1663ffffffff1681526020019081526020015f2054836040516020016103d7919061234b565b604051602081830303815290604052805190602001201461042d576040517f08c379a0000000000000000000000000000000000000000000000000000000008152600401610424906123eb565b60405180910390fd5b5f60995f3373ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff1681526020019081526020015f205f8463ffffffff1663ffffffff1681526020019081526020015f20805461049190612436565b9050146104d3576040517f08c379a00000000000000000000000000000000000000000000000000000000081526004016104ca906124d6565b60405180910390fd5b5f83805f01906104e39190612500565b6040516020016104f49291906125da565b6040516020818303038152906040528051906020012090505f61051682610fde565b90505f631626ba7e60e01b90507f000000000000000000000000000000000000000000000000000000000000000073ffffffffffffffffffffffffffffffffffffffff16631626ba7e83866040518363ffffffff1660e01b815260040161057e9291906125fd565b602060405180830381865afa158015610599573d5f803e3d5ffd5b505050506040513d601f19601f820116820180604052508101906105bd9190612680565b7bffffffffffffffffffffffffffffffffffffffffffffffffffffffff1916817bffffffffffffffffffffffffffffffffffffffffffffffffffffffff191614610605575f80fd5b8360995f3373ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff1681526020019081526020015f205f8763ffffffff1663ffffffff1681526020019081526020015f20908161066a9190612848565b508463ffffffff167f8eb2d2fcccf5801e10ff58cd73e8781ba923122963789378771f03c1148b023e87336040516106a3929190612917565b60405180910390a2505050505050565b6106bb61100d565b6106c48161108b565b50565b5f8060019054906101000a900460ff161590508080156106f6575060015f8054906101000a900460ff1660ff16105b80610722575061070530611128565b158015610721575060015f8054906101000a900460ff1660ff16145b5b610761576040517f08c379a0000000000000000000000000000000000000000000000000000000008152600401610758906129b5565b60405180910390fd5b60015f806101000a81548160ff021916908360ff160217905550801561079c5760015f60016101000a81548160ff0219169083151502179055505b6107a6838361114a565b80156107fe575f8060016101000a81548160ff0219169083151502179055507f7f26b83ff96e1f2b6a682f133852f6798a09c465da95921460cefb384740249860016040516107f59190612a18565b60405180910390a15b505050565b7f000000000000000000000000000000000000000000000000000000000000000081565b7f000000000000000000000000000000000000000000000000000000000000000081565b61085361100d565b61085c5f6111ae565b565b610866611978565b61086e611978565b82815f018190525043816020019063ffffffff16908163ffffffff16815250508060405160200161089f9190611f73565b6040516020818303038152906040528051906020012060985f60975f9054906101000a900463ffffffff1663ffffffff1663ffffffff1681526020019081526020015f208190555060975f9054906101000a900463ffffffff1663ffffffff167f58180a6a0403a63c2b5ce4b85d129d46a80d37851b2216bd0a98b59e7309b8478260405161092e9190611f73565b60405180910390a2600160975f9054906101000a900463ffffffff166109549190612a5e565b60975f6101000a81548163ffffffff021916908363ffffffff16021790555080915050919050565b60975f9054906101000a900463ffffffff1681565b5f60335f9054906101000a900473ffffffffffffffffffffffffffffffffffffffff16905090565b7f000000000000000000000000000000000000000000000000000000000000000073ffffffffffffffffffffffffffffffffffffffff163373ffffffffffffffffffffffffffffffffffffffff1614610a47576040517f08c379a0000000000000000000000000000000000000000000000000000000008152600401610a3e90612b2b565b60405180910390fd5b610a518282611271565b5050565b7f000000000000000000000000000000000000000000000000000000000000000073ffffffffffffffffffffffffffffffffffffffff163373ffffffffffffffffffffffffffffffffffffffff1614610ae3576040517f08c379a0000000000000000000000000000000000000000000000000000000008152600401610ada90612b2b565b60405180910390fd5b610aec816112fd565b50565b610af761100d565b610b0081611386565b50565b6099602052815f5260405f20602052805f5260405f205f91509150508054610b2a90612436565b80601f0160208091040260200160405190810160405280929190818152602001828054610b5690612436565b8015610ba15780601f10610b7857610100808354040283529160200191610ba1565b820191905f5260205f20905b815481529060010190602001808311610b8457829003601f168201915b505050505081565b6060610bb361140f565b905090565b610bc061100d565b5f73ffffffffffffffffffffffffffffffffffffffff168173ffffffffffffffffffffffffffffffffffffffff1603610c2e576040517f08c379a0000000000000000000000000000000000000000000000000000000008152600401610c2590612bb9565b60405180910390fd5b610c37816111ae565b50565b60655f9054906101000a900473ffffffffffffffffffffffffffffffffffffffff1681565b610c67611586565b610c718282611617565b5050565b60605f7f000000000000000000000000000000000000000000000000000000000000000073ffffffffffffffffffffffffffffffffffffffff16631703a0186040518163ffffffff1660e01b81526004015f60405180830381865afa158015610ce0573d5f803e3d5ffd5b505050506040513d5f823e3d601f19601f82011682018060405250810190610d089190612db5565b90505f815f01515190505f8167ffffffffffffffff811115610d2d57610d2c611bd3565b5b604051908082528060200260200182016040528015610d5b5781602001602082028036833780820191505090505b5090505f5b82811015610de357835f01518181518110610d7e57610d7d612dfc565b5b60200260200101515f0151828281518110610d9c57610d9b612dfc565b5b602002602001019073ffffffffffffffffffffffffffffffffffffffff16908173ffffffffffffffffffffffffffffffffffffffff16815250508080600101915050610d60565b505f7f000000000000000000000000000000000000000000000000000000000000000073ffffffffffffffffffffffffffffffffffffffff16639004134787846040518363ffffffff1660e01b8152600401610e40929190612f13565b5f60405180830381865afa158015610e5a573d5f803e3d5ffd5b505050506040513d5f823e3d601f19601f82011682018060405250810190610e829190613015565b90505f805b84811015610ecd575f838281518110610ea357610ea2612dfc565b5b60200260200101511115610ec0578180610ebc9061305c565b9250505b8080600101915050610e87565b505f8167ffffffffffffffff811115610ee957610ee8611bd3565b5b604051908082528060200260200182016040528015610f175781602001602082028036833780820191505090505b5090505f805f90505b86811015610fce575f858281518110610f3c57610f3b612dfc565b5b60200260200101511115610fc157858181518110610f5d57610f5c612dfc565b5b6020026020010151838381518110610f7857610f77612dfc565b5b602002602001019073ffffffffffffffffffffffffffffffffffffffff16908173ffffffffffffffffffffffffffffffffffffffff16815250508180610fbd9061305c565b9250505b8080600101915050610f20565b5081975050505050505050919050565b5f81604051602001610ff0919061310d565b604051602081830303815290604052805190602001209050919050565b611015611971565b73ffffffffffffffffffffffffffffffffffffffff16611033610991565b73ffffffffffffffffffffffffffffffffffffffff1614611089576040517f08c379a00000000000000000000000000000000000000000000000000000000081526004016110809061317c565b60405180910390fd5b565b7fe11cddf1816a43318ca175bbc52cd0185436e9cbead7c83acc54a73e461717e360655f9054906101000a900473ffffffffffffffffffffffffffffffffffffffff16826040516110dd92919061319a565b60405180910390a18060655f6101000a81548173ffffffffffffffffffffffffffffffffffffffff021916908373ffffffffffffffffffffffffffffffffffffffff16021790555050565b5f808273ffffffffffffffffffffffffffffffffffffffff163b119050919050565b5f60019054906101000a900460ff16611198576040517f08c379a000000000000000000000000000000000000000000000000000000000815260040161118f90613231565b60405180910390fd5b6111a1826111ae565b6111aa8161108b565b5050565b5f60335f9054906101000a900473ffffffffffffffffffffffffffffffffffffffff1690508160335f6101000a81548173ffffffffffffffffffffffffffffffffffffffff021916908373ffffffffffffffffffffffffffffffffffffffff1602179055508173ffffffffffffffffffffffffffffffffffffffff168173ffffffffffffffffffffffffffffffffffffffff167f8be0079c531659141344cd1fd0a4f28419497f9722a3daafe3b4186f6b6457e060405160405180910390a35050565b7f000000000000000000000000000000000000000000000000000000000000000073ffffffffffffffffffffffffffffffffffffffff16639926ee7d83836040518363ffffffff1660e01b81526004016112cc929190613302565b5f604051808303815f87803b1580156112e3575f80fd5b505af11580156112f5573d5f803e3d5ffd5b505050505050565b7f000000000000000000000000000000000000000000000000000000000000000073ffffffffffffffffffffffffffffffffffffffff1663a364f4da826040518263ffffffff1660e01b81526004016113569190611dcc565b5f604051808303815f87803b15801561136d575f80fd5b505af115801561137f573d5f803e3d5ffd5b5050505050565b7f000000000000000000000000000000000000000000000000000000000000000073ffffffffffffffffffffffffffffffffffffffff1663a98fb355826040518263ffffffff1660e01b81526004016113df9190613368565b5f604051808303815f87803b1580156113f6575f80fd5b505af1158015611408573d5f803e3d5ffd5b5050505050565b60605f7f000000000000000000000000000000000000000000000000000000000000000073ffffffffffffffffffffffffffffffffffffffff16631703a0186040518163ffffffff1660e01b81526004015f60405180830381865afa15801561147a573d5f803e3d5ffd5b505050506040513d5f823e3d601f19601f820116820180604052508101906114a29190612db5565b90505f815f01515167ffffffffffffffff8111156114c3576114c2611bd3565b5b6040519080825280602002602001820160405280156114f15781602001602082028036833780820191505090505b5090505f5b825f01515181101561157d57825f0151818151811061151857611517612dfc565b5b60200260200101515f015182828151811061153657611535612dfc565b5b602002602001019073ffffffffffffffffffffffffffffffffffffffff16908173ffffffffffffffffffffffffffffffffffffffff168152505080806001019150506114f6565b50809250505090565b60655f9054906101000a900473ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff163373ffffffffffffffffffffffffffffffffffffffff1614611615576040517f08c379a000000000000000000000000000000000000000000000000000000000815260040161160c9061341e565b60405180910390fd5b565b5f5b828290508110156118e45782828281811061163757611636612dfc565b5b9050602002810190611649919061343c565b602001602081019061165b919061349e565b73ffffffffffffffffffffffffffffffffffffffff166323b872dd333086868681811061168b5761168a612dfc565b5b905060200281019061169d919061343c565b604001356040518463ffffffff1660e01b81526004016116bf939291906134d8565b6020604051808303815f875af11580156116db573d5f803e3d5ffd5b505050506040513d601f19601f820116820180604052508101906116ff9190613542565b505f83838381811061171457611713612dfc565b5b9050602002810190611726919061343c565b6020016020810190611738919061349e565b73ffffffffffffffffffffffffffffffffffffffff1663dd62ed3e307f00000000000000000000000000000000000000000000000000000000000000006040518363ffffffff1660e01b815260040161179292919061319a565b602060405180830381865afa1580156117ad573d5f803e3d5ffd5b505050506040513d601f19601f820116820180604052508101906117d1919061356d565b90508383838181106117e6576117e5612dfc565b5b90506020028101906117f8919061343c565b602001602081019061180a919061349e565b73ffffffffffffffffffffffffffffffffffffffff1663095ea7b37f00000000000000000000000000000000000000000000000000000000000000008387878781811061185a57611859612dfc565b5b905060200281019061186c919061343c565b6040013561187a9190613598565b6040518363ffffffff1660e01b81526004016118979291906135cb565b6020604051808303815f875af11580156118b3573d5f803e3d5ffd5b505050506040513d601f19601f820116820180604052508101906118d79190613542565b5050806001019050611619565b507f000000000000000000000000000000000000000000000000000000000000000073ffffffffffffffffffffffffffffffffffffffff1663fce36c7d83836040518363ffffffff1660e01b815260040161194092919061394f565b5f604051808303815f87803b158015611957575f80fd5b505af1158015611969573d5f803e3d5ffd5b505050505050565b5f33905090565b6040518060400160405280606081526020015f63ffffffff1681525090565b5f604051905090565b5f80fd5b5f80fd5b5f63ffffffff82169050919050565b6119c0816119a8565b81146119ca575f80fd5b50565b5f813590506119db816119b7565b92915050565b5f602082840312156119f6576119f56119a0565b5b5f611a03848285016119cd565b91505092915050565b5f819050919050565b611a1e81611a0c565b82525050565b5f602082019050611a375f830184611a15565b92915050565b5f73ffffffffffffffffffffffffffffffffffffffff82169050919050565b5f611a6682611a3d565b9050919050565b611a7681611a5c565b8114611a80575f80fd5b50565b5f81359050611a9181611a6d565b92915050565b5f60208284031215611aac57611aab6119a0565b5b5f611ab984828501611a83565b91505092915050565b5f81519050919050565b5f82825260208201905092915050565b5f819050602082019050919050565b611af481611a5c565b82525050565b5f611b058383611aeb565b60208301905092915050565b5f602082019050919050565b5f611b2782611ac2565b611b318185611acc565b9350611b3c83611adc565b805f5b83811015611b6c578151611b538882611afa565b9750611b5e83611b11565b925050600181019050611b3f565b5085935050505092915050565b5f6020820190508181035f830152611b918184611b1d565b905092915050565b5f80fd5b5f60408284031215611bb257611bb1611b99565b5b81905092915050565b5f80fd5b5f80fd5b5f601f19601f8301169050919050565b7f4e487b71000000000000000000000000000000000000000000000000000000005f52604160045260245ffd5b611c0982611bc3565b810181811067ffffffffffffffff82111715611c2857611c27611bd3565b5b80604052505050565b5f611c3a611997565b9050611c468282611c00565b919050565b5f67ffffffffffffffff821115611c6557611c64611bd3565b5b611c6e82611bc3565b9050602081019050919050565b828183375f83830152505050565b5f611c9b611c9684611c4b565b611c31565b905082815260208101848484011115611cb757611cb6611bbf565b5b611cc2848285611c7b565b509392505050565b5f82601f830112611cde57611cdd611bbb565b5b8135611cee848260208601611c89565b91505092915050565b5f805f60608486031215611d0e57611d0d6119a0565b5b5f84013567ffffffffffffffff811115611d2b57611d2a6119a4565b5b611d3786828701611b9d565b9350506020611d48868287016119cd565b925050604084013567ffffffffffffffff811115611d6957611d686119a4565b5b611d7586828701611cca565b9150509250925092565b5f8060408385031215611d9557611d946119a0565b5b5f611da285828601611a83565b9250506020611db385828601611a83565b9150509250929050565b611dc681611a5c565b82525050565b5f602082019050611ddf5f830184611dbd565b92915050565b5f67ffffffffffffffff821115611dff57611dfe611bd3565b5b611e0882611bc3565b9050602081019050919050565b5f611e27611e2284611de5565b611c31565b905082815260208101848484011115611e4357611e42611bbf565b5b611e4e848285611c7b565b509392505050565b5f82601f830112611e6a57611e69611bbb565b5b8135611e7a848260208601611e15565b91505092915050565b5f60208284031215611e9857611e976119a0565b5b5f82013567ffffffffffffffff811115611eb557611eb46119a4565b5b611ec184828501611e56565b91505092915050565b5f81519050919050565b5f82825260208201905092915050565b8281835e5f83830152505050565b5f611efc82611eca565b611f068185611ed4565b9350611f16818560208601611ee4565b611f1f81611bc3565b840191505092915050565b611f33816119a8565b82525050565b5f604083015f8301518482035f860152611f538282611ef2565b9150506020830151611f686020860182611f2a565b508091505092915050565b5f6020820190508181035f830152611f8b8184611f39565b905092915050565b611f9c816119a8565b82525050565b5f602082019050611fb55f830184611f93565b92915050565b5f80fd5b5f80fd5b611fcc81611a0c565b8114611fd6575f80fd5b50565b5f81359050611fe781611fc3565b92915050565b5f819050919050565b611fff81611fed565b8114612009575f80fd5b50565b5f8135905061201a81611ff6565b92915050565b5f6060828403121561203557612034611fbb565b5b61203f6060611c31565b90505f82013567ffffffffffffffff81111561205e5761205d611fbf565b5b61206a84828501611cca565b5f83015250602061207d84828501611fd9565b60208301525060406120918482850161200c565b60408301525092915050565b5f80604083850312156120b3576120b26119a0565b5b5f6120c085828601611a83565b925050602083013567ffffffffffffffff8111156120e1576120e06119a4565b5b6120ed85828601612020565b9150509250929050565b5f806040838503121561210d5761210c6119a0565b5b5f61211a85828601611a83565b925050602061212b858286016119cd565b9150509250929050565b5f81519050919050565b5f82825260208201905092915050565b5f61215982612135565b612163818561213f565b9350612173818560208601611ee4565b61217c81611bc3565b840191505092915050565b5f6020820190508181035f83015261219f818461214f565b905092915050565b5f80fd5b5f80fd5b5f8083601f8401126121c4576121c3611bbb565b5b8235905067ffffffffffffffff8111156121e1576121e06121a7565b5b6020830191508360208202830111156121fd576121fc6121ab565b5b9250929050565b5f806020838503121561221a576122196119a0565b5b5f83013567ffffffffffffffff811115612237576122366119a4565b5b612243858286016121af565b92509250509250929050565b5f80fd5b5f80fd5b5f80fd5b5f808335600160200384360303811261227757612276612257565b5b83810192508235915060208301925067ffffffffffffffff82111561229f5761229e61224f565b5b6001820236038313156122b5576122b4612253565b5b509250929050565b5f6122c88385611ed4565b93506122d5838584611c7b565b6122de83611bc3565b840190509392505050565b5f6122f760208401846119cd565b905092915050565b5f604083016123105f84018461225b565b8583035f8701526123228382846122bd565b9250505061233360208401846122e9565b6123406020860182611f2a565b508091505092915050565b5f6020820190508181035f83015261236381846122ff565b905092915050565b5f82825260208201905092915050565b7f737570706c696564207461736b20646f6573206e6f74206d61746368207468655f8201527f206f6e65207265636f7264656420696e2074686520636f6e7472616374000000602082015250565b5f6123d5603d8361236b565b91506123e08261237b565b604082019050919050565b5f6020820190508181035f830152612402816123c9565b9050919050565b7f4e487b71000000000000000000000000000000000000000000000000000000005f52602260045260245ffd5b5f600282049050600182168061244d57607f821691505b6020821081036124605761245f612409565b5b50919050565b7f4f70657261746f722068617320616c726561647920726573706f6e64656420745f8201527f6f20746865207461736b00000000000000000000000000000000000000000000602082015250565b5f6124c0602a8361236b565b91506124cb82612466565b604082019050919050565b5f6020820190508181035f8301526124ed816124b4565b9050919050565b5f80fd5b5f80fd5b5f80fd5b5f808335600160200384360303811261251c5761251b6124f4565b5b80840192508235915067ffffffffffffffff82111561253e5761253d6124f8565b5b60208301925060018202360383131561255a576125596124fc565b5b509250929050565b5f81905092915050565b7f48656c6c6f2c20000000000000000000000000000000000000000000000000005f82015250565b5f6125a0600783612562565b91506125ab8261256c565b600782019050919050565b5f6125c18385612562565b93506125ce838584611c7b565b82840190509392505050565b5f6125e482612594565b91506125f18284866125b6565b91508190509392505050565b5f6040820190506126105f830185611a15565b8181036020830152612622818461214f565b90509392505050565b5f7fffffffff0000000000000000000000000000000000000000000000000000000082169050919050565b61265f8161262b565b8114612669575f80fd5b50565b5f8151905061267a81612656565b92915050565b5f60208284031215612695576126946119a0565b5b5f6126a28482850161266c565b91505092915050565b5f819050815f5260205f209050919050565b5f6020601f8301049050919050565b5f82821b905092915050565b5f600883026127077fffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffff826126cc565b61271186836126cc565b95508019841693508086168417925050509392505050565b5f819050919050565b5f61274c61274761274284611fed565b612729565b611fed565b9050919050565b5f819050919050565b61276583612732565b61277961277182612753565b8484546126d8565b825550505050565b5f90565b61278d612781565b61279881848461275c565b505050565b5b818110156127bb576127b05f82612785565b60018101905061279e565b5050565b601f821115612800576127d1816126ab565b6127da846126bd565b810160208510156127e9578190505b6127fd6127f5856126bd565b83018261279d565b50505b505050565b5f82821c905092915050565b5f6128205f1984600802612805565b1980831691505092915050565b5f6128388383612811565b9150826002028217905092915050565b61285182612135565b67ffffffffffffffff81111561286a57612869611bd3565b5b6128748254612436565b61287f8282856127bf565b5f60209050601f8311600181146128b0575f841561289e578287015190505b6128a8858261282d565b86555061290f565b601f1984166128be866126ab565b5f5b828110156128e5578489015182556001820191506020850194506020810190506128c0565b8683101561290257848901516128fe601f891682612811565b8355505b6001600288020188555050505b505050505050565b5f6040820190508181035f83015261292f81856122ff565b905061293e6020830184611dbd565b9392505050565b7f496e697469616c697a61626c653a20636f6e747261637420697320616c7265615f8201527f647920696e697469616c697a6564000000000000000000000000000000000000602082015250565b5f61299f602e8361236b565b91506129aa82612945565b604082019050919050565b5f6020820190508181035f8301526129cc81612993565b9050919050565b5f819050919050565b5f60ff82169050919050565b5f612a026129fd6129f8846129d3565b612729565b6129dc565b9050919050565b612a12816129e8565b82525050565b5f602082019050612a2b5f830184612a09565b92915050565b7f4e487b71000000000000000000000000000000000000000000000000000000005f52601160045260245ffd5b5f612a68826119a8565b9150612a73836119a8565b9250828201905063ffffffff811115612a8f57612a8e612a31565b5b92915050565b7f4543445341536572766963654d616e61676572426173652e6f6e6c795374616b5f8201527f6552656769737472793a2063616c6c6572206973206e6f74207468652073746160208201527f6b65526567697374727900000000000000000000000000000000000000000000604082015250565b5f612b15604a8361236b565b9150612b2082612a95565b606082019050919050565b5f6020820190508181035f830152612b4281612b09565b9050919050565b7f4f776e61626c653a206e6577206f776e657220697320746865207a65726f20615f8201527f6464726573730000000000000000000000000000000000000000000000000000602082015250565b5f612ba360268361236b565b9150612bae82612b49565b604082019050919050565b5f6020820190508181035f830152612bd081612b97565b9050919050565b5f67ffffffffffffffff821115612bf157612bf0611bd3565b5b602082029050602081019050919050565b5f612c0c82611a5c565b9050919050565b612c1c81612c02565b8114612c26575f80fd5b50565b5f81519050612c3781612c13565b92915050565b5f6bffffffffffffffffffffffff82169050919050565b612c5d81612c3d565b8114612c67575f80fd5b50565b5f81519050612c7881612c54565b92915050565b5f60408284031215612c9357612c92611fbb565b5b612c9d6040611c31565b90505f612cac84828501612c29565b5f830152506020612cbf84828501612c6a565b60208301525092915050565b5f612cdd612cd884612bd7565b611c31565b90508083825260208201905060408402830185811115612d0057612cff6121ab565b5b835b81811015612d295780612d158882612c7e565b845260208401935050604081019050612d02565b5050509392505050565b5f82601f830112612d4757612d46611bbb565b5b8151612d57848260208601612ccb565b91505092915050565b5f60208284031215612d7557612d74611fbb565b5b612d7f6020611c31565b90505f82015167ffffffffffffffff811115612d9e57612d9d611fbf565b5b612daa84828501612d33565b5f8301525092915050565b5f60208284031215612dca57612dc96119a0565b5b5f82015167ffffffffffffffff811115612de757612de66119a4565b5b612df384828501612d60565b91505092915050565b7f4e487b71000000000000000000000000000000000000000000000000000000005f52603260045260245ffd5b5f81519050919050565b5f819050602082019050919050565b5f612e5c612e57612e5284611a3d565b612729565b611a3d565b9050919050565b5f612e6d82612e42565b9050919050565b5f612e7e82612e63565b9050919050565b612e8e81612e74565b82525050565b5f612e9f8383612e85565b60208301905092915050565b5f602082019050919050565b5f612ec182612e29565b612ecb8185611acc565b9350612ed683612e33565b805f5b83811015612f06578151612eed8882612e94565b9750612ef883612eab565b925050600181019050612ed9565b5085935050505092915050565b5f604082019050612f265f830185611dbd565b8181036020830152612f388184612eb7565b90509392505050565b5f67ffffffffffffffff821115612f5b57612f5a611bd3565b5b602082029050602081019050919050565b5f81519050612f7a81611ff6565b92915050565b5f612f92612f8d84612f41565b611c31565b90508083825260208201905060208402830185811115612fb557612fb46121ab565b5b835b81811015612fde5780612fca8882612f6c565b845260208401935050602081019050612fb7565b5050509392505050565b5f82601f830112612ffc57612ffb611bbb565b5b815161300c848260208601612f80565b91505092915050565b5f6020828403121561302a576130296119a0565b5b5f82015167ffffffffffffffff811115613047576130466119a4565b5b61305384828501612fe8565b91505092915050565b5f61306682611fed565b91507fffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffff820361309857613097612a31565b5b600182019050919050565b7f19457468657265756d205369676e6564204d6573736167653a0a3332000000005f82015250565b5f6130d7601c83612562565b91506130e2826130a3565b601c82019050919050565b5f819050919050565b61310761310282611a0c565b6130ed565b82525050565b5f613117826130cb565b915061312382846130f6565b60208201915081905092915050565b7f4f776e61626c653a2063616c6c6572206973206e6f7420746865206f776e65725f82015250565b5f61316660208361236b565b915061317182613132565b602082019050919050565b5f6020820190508181035f8301526131938161315a565b9050919050565b5f6040820190506131ad5f830185611dbd565b6131ba6020830184611dbd565b9392505050565b7f496e697469616c697a61626c653a20636f6e7472616374206973206e6f7420695f8201527f6e697469616c697a696e67000000000000000000000000000000000000000000602082015250565b5f61321b602b8361236b565b9150613226826131c1565b604082019050919050565b5f6020820190508181035f8301526132488161320f565b9050919050565b5f82825260208201905092915050565b5f61326982612135565b613273818561324f565b9350613283818560208601611ee4565b61328c81611bc3565b840191505092915050565b6132a081611a0c565b82525050565b6132af81611fed565b82525050565b5f606083015f8301518482035f8601526132cf828261325f565b91505060208301516132e46020860182613297565b5060408301516132f760408601826132a6565b508091505092915050565b5f6040820190506133155f830185611dbd565b818103602083015261332781846132b5565b90509392505050565b5f61333a82611eca565b613344818561236b565b9350613354818560208601611ee4565b61335d81611bc3565b840191505092915050565b5f6020820190508181035f8301526133808184613330565b905092915050565b7f4543445341536572766963654d616e61676572426173652e6f6e6c79526577615f8201527f726473496e69746961746f723a2063616c6c6572206973206e6f74207468652060208201527f7265776172647320696e69746961746f72000000000000000000000000000000604082015250565b5f61340860518361236b565b915061341382613388565b606082019050919050565b5f6020820190508181035f830152613435816133fc565b9050919050565b5f8235600160a003833603038112613457576134566124f4565b5b80830191505092915050565b5f61346d82611a5c565b9050919050565b61347d81613463565b8114613487575f80fd5b50565b5f8135905061349881613474565b92915050565b5f602082840312156134b3576134b26119a0565b5b5f6134c08482850161348a565b91505092915050565b6134d281611fed565b82525050565b5f6060820190506134eb5f830186611dbd565b6134f86020830185611dbd565b61350560408301846134c9565b949350505050565b5f8115159050919050565b6135218161350d565b811461352b575f80fd5b50565b5f8151905061353c81613518565b92915050565b5f60208284031215613557576135566119a0565b5b5f6135648482850161352e565b91505092915050565b5f60208284031215613582576135816119a0565b5b5f61358f84828501612f6c565b91505092915050565b5f6135a282611fed565b91506135ad83611fed565b92508282019050808211156135c5576135c4612a31565b5b92915050565b5f6040820190506135de5f830185611dbd565b6135eb60208301846134c9565b9392505050565b5f82825260208201905092915050565b5f819050919050565b5f808335600160200384360303811261362757613626612257565b5b83810192508235915060208301925067ffffffffffffffff82111561364f5761364e61224f565b5b60408202360383131561366557613664612253565b5b509250929050565b5f82825260208201905092915050565b5f819050919050565b5f8135905061369481612c13565b92915050565b5f6136a86020840184613686565b905092915050565b5f813590506136be81612c54565b92915050565b5f6136d260208401846136b0565b905092915050565b6136e381612c3d565b82525050565b604082016136f95f83018361369a565b6137055f850182612e85565b5061371360208301836136c4565b61372060208501826136da565b50505050565b5f61373183836136e9565b60408301905092915050565b5f82905092915050565b5f604082019050919050565b5f61375e838561366d565b93506137698261367d565b805f5b858110156137a15761377e828461373d565b6137888882613726565b975061379383613747565b92505060018101905061376c565b5085925050509392505050565b5f6137bc602084018461348a565b905092915050565b5f6137ce82612e63565b9050919050565b6137de816137c4565b82525050565b5f6137f2602084018461200c565b905092915050565b5f60a0830161380b5f84018461360b565b8583035f87015261381d838284613753565b9250505061382e60208401846137ae565b61383b60208601826137d5565b5061384960408401846137e4565b61385660408601826132a6565b5061386460608401846122e9565b6138716060860182611f2a565b5061387f60808401846122e9565b61388c6080860182611f2a565b508091505092915050565b5f6138a283836137fa565b905092915050565b5f8235600160a0038336030381126138c5576138c4612257565b5b82810191505092915050565b5f602082019050919050565b5f6138e883856135f2565b9350836020840285016138fa84613602565b805f5b8781101561393d57848403895261391482846138aa565b61391e8582613897565b9450613929836138d1565b925060208a019950506001810190506138fd565b50829750879450505050509392505050565b5f6020820190508181035f8301526139688184866138dd565b9050939250505056fea264697066735822122064b14798d926d26c5436aeda977f6bd02b337b090b6d2b1a5d6cff2b80cecbba64736f6c634300081a0033";
  // Get the contract factory
  const HelloWorldServiceManager = new ethers.ContractFactory(
abi, bytecode,
    wallet
  );

  // Set constructor arguments
  const avsDirectory = '0x055733000064333CaDDbC92763c58BF0192fFeBf'; // Replace with actual address
  const stakeRegistry = '0xBDACD5998989Eec814ac7A0f0f6596088AA2a270'; // Replace with actual address
  const rewardsCoordinator = '0xAcc1fb458a1317E886dB376Fc8141540537E68fE'; // Replace with actual address
  const delegationManager = '0xA44151489861Fe9e3055d95adC98FbD462B948e7'; // Replace with actual address

  // Deploy the contract
  console.log('Deploying HelloWorldServiceManager...');
  const helloWorldServiceManager = await HelloWorldServiceManager.deploy(
    avsDirectory,
    stakeRegistry,
    rewardsCoordinator,
    delegationManager
  );
  helloWorldServiceManager.waitForDeployment();

  console.log(
    'HelloWorldServiceManager deployed to:',
    helloWorldServiceManager.address
  );
}

// Run the deployment script
main()
  .then(() => process.exit(0))
  .catch((error) => {
    console.error(error);
    process.exit(1);
  });
